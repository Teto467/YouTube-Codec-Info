body {
  font-family: sans-serif;
  width: 280px; /* ポップアップの幅を広げる */
  padding: 10px 15px; /* パディング調整 */
  /* background-color は prefers-color-scheme で設定 */
}
/* Light mode default will be here */

.container {
  display: flex;
  flex-direction: column;
  gap: 12px; /* 各設定間のスペースを少し調整 */
}

h2 {
  margin: 0 0 10px 0;
  font-size: 16px;
  text-align: center;
  border-bottom: 1px solid #ddd; /* 区切り線 */
  padding-bottom: 8px;
  /* color は prefers-color-scheme で設定 */
}

.setting-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px; /* ラベルと要素の間のスペースを少し調整 */
}

.size-setting label {
  flex-shrink: 0; /* Font Size ラベルが縮まないように */
}

label {
  font-size: 14px;
  /* color: #555; */ /* Set via prefers-color-scheme */
  line-height: 1.3; /* アイコンとの縦位置調整用 */
}

/* Specific style for toggle items */
.toggle-item label {
  flex-grow: 1; /* ラベルがスペースを埋めるように */
}

/* --- Help Icon Styles --- */
.help-icon {
  display: inline-flex; /* Use flex for centering */
  justify-content: center;
  align-items: center;
  width: 16px;
  height: 16px;
  font-size: 11px;
  font-weight: bold;
  border-radius: 50%;
  border: 1px solid; /* Border color set in themes */
  cursor: help;
  margin-left: 4px; /* Add some space */
  flex-shrink: 0; /* Prevent shrinking */
  box-sizing: border-box; /* Include border in size */
}

/* --- Explanation Area Styles --- */
.explanation-box {
  margin-top: 10px;
  padding: 10px;
  border-radius: 4px;
  font-size: 13px;
  line-height: 1.5;
  border: 1px solid; /* Border color set in themes */
  /* background-color set in themes */
}

.explanation-box p {
    margin: 0 0 5px 0; /* Space between paragraph and link */
}

.explanation-box strong {
    /* Color set in themes */
    font-weight: 600;
}

.wiki-link {
    font-size: 12px;
    /* color set in themes */
    text-decoration: none;
}
.wiki-link:hover {
    text-decoration: underline;
}


/* --- Toggle Switch CSS (No changes needed) --- */
.switch { /* ... */ }
.switch input { /* ... */ }
.slider { /* ... */ }
.slider:before { /* ... */ }
input:checked + .slider { /* ... */ }
input:checked + .slider:before { /* ... */ }
.slider.round { /* ... */ }
.slider.round:before { /* ... */ }

/* --- Slider CSS (No changes needed) --- */
#size-slider { /* ... */ }
#size-value { /* ... */ }

/* --- Other elements --- */
hr {
  border: none;
  /* border-top: 1px solid #ddd; */ /* Set via prefers-color-scheme */
  margin: 10px 0; /* Margin reduced slightly */
}

h3 {
  font-size: 14px;
  margin: 0 0 5px 0;
  /* color: #444; */ /* Set via prefers-color-scheme */
}

/* --- Info Toggle Checkbox (No changes needed) --- */
.info-toggle { /* ... */ }


/* -- Light Mode Defaults -- */
body { background-color: #f5f5f5; color: #333; }
h2 { border-bottom-color: #ddd; color: #333; }
label { color: #555; }
hr { border-top: 1px solid #ddd; }
h3 { color: #444; }
#size-value { color: #333; }
.slider { background-color: #ccc; }
input:checked + .slider { background-color: #2196F3; }
.info-toggle { accent-color: #2196F3; }
.help-icon { border-color: #aaa; color: #777; }
.explanation-box { background-color: #eee; border-color: #ccc; }
.explanation-box strong { color: #222; }
.wiki-link { color: #007bff; }


/* --- Dark Mode Styles --- */
@media (prefers-color-scheme: dark) {
  body { background-color: #282828; color: #eee; }
  h2 { border-bottom-color: #444; color: #eee; }
  label { color: #ccc; }
  hr { border-top: 1px solid #444; }
  h3 { color: #bbb; }
  #size-value { color: #eee; }
  /* Toggle Switch Dark Mode */
  .slider { background-color: #555; }
  input:checked + .slider { background-color: #4d90fe; }
  /* Checkbox Dark Mode */
  .info-toggle { accent-color: #4d90fe; filter: invert(1) hue-rotate(180deg) brightness(1.1); } /* Adjusted filter */
  /* Help Icon Dark Mode */
  .help-icon { border-color: #666; color: #aaa; }
  /* Explanation Box Dark Mode */
  .explanation-box { background-color: #333; border-color: #555; }
  .explanation-box strong { color: #fff; }
  .wiki-link { color: #8ab4f8; } /* Google Dark Theme Link Color */
}